const Discord = require('discord.js');
const client = new Discord.Client();
const prefix = '+'

client.on('ready', () => {
  console.log(`Logged in as ${client.user.tag}!`);
client.user.setGame(`x:`,"http://twitch.tv/A_K")
  console.log('')
  console.log('')
  console.log('â•”[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•—')
  console.log(`[Start] ${new Date()}`);
  console.log('â•š[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•')
  console.log('')
  console.log('â•”[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•—');
  console.log(`Logged in as * [ " ${client.user.username} " ]`);
  console.log('')
  console.log('Informations :')
  console.log('')
  console.log(`servers! [ " ${client.guilds.size} " ]`);
  console.log(`Users! [ " ${client.users.size} " ]`);
  console.log(`channels! [ " ${client.channels.size} " ]`);
  console.log('â•š[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•')
  console.log('')
  console.log('â•”[â•â•â•â•â•â•â•â•â•â•â•â•]â•—')
  console.log(' Bot Is Online')
  console.log('â•š[â•â•â•â•â•â•â•â•â•â•â•â•]â•')
  console.log('')
  console.log('')
});



client.on('message', message => {
    if(!message.channel.guild) return;
if (message.content.startsWith('+ping')) {
if(!message.channel.guild) return;
var msg = `${Date.now() - message.createdTimestamp}`
var api = `${Math.round(client.ping)}`
if (message.author.bot) return;
let embed = new Discord.RichEmbed()
.setAuthor(message.author.username,message.author.avatarURL)
.setColor('RANDOM')
.addField('**Time Taken:**',msg + " ms :signal_strength: ")
message.channel.send({embed:embed});
}
});





    client.on('message', message => {
      var prefix = "Ø§";
      if(message.content.startsWith(prefix + 'Ø³Ø­Ø¨ Ø§Ù„ÙƒÙ„')) {
       if (!message.member.hasPermission("ADMINISTRATOR")) return message.channel.send('**Ù„Ø§ÙŠÙˆØ¬Ø¯ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ø³Ø­Ø¨ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡**');
         if(!message.guild.member(client.user).hasPermission("MOVE_MEMBERS")) return message.reply("**Ù„Ø§ÙŠÙˆØ¬Ø¯ Ù„Ø¯ÙŠ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø³Ø­Ø¨**");
      if (message.member.voiceChannel == null) return message.channel.send(`**Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ø±ÙˆÙ… ØµÙˆØªÙŠ**`)
       var author = message.member.voiceChannelID;
       var m = message.guild.members.filter(m=>m.voiceChannel)
       message.guild.members.filter(m=>m.voiceChannel).forEach(m => {
       m.setVoiceChannel(author)
       })
       message.channel.send(`**ØªÙ… Ø³Ø­Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø¥Ù„ÙŠÙƒ**`)


       }
         });





client.on('message', message => {
    if (message.content.startsWith("Ø±Ø§Ø¨Ø·")) {

  message.channel.createInvite({
        thing: true,
        maxUses: 5,
        maxAge: 86400
    }).then(invite =>
      message.author.sendMessage(invite.url)
    )
    const embed = new Discord.RichEmbed()
        .setColor("RANDOM")
        .setDescription("| :white_check_mark:  | :heart:  ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Øµ  ")
      message.channel.sendEmbed(embed).then(message => {message.delete(10000)})
              const Embed11 = new Discord.RichEmbed()
        .setColor("RANDOM")
                .setAuthor(message.guild.name, message.guild.iconURL)
        .setDescription(`
**
---------------------
-[**Wind**]  Ù‡Ø°Ø§ Ù‡Ùˆ Ø±Ø§Ø¨Ø·
---------------------
-Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· ØµØ§Ù„Ø­ Ù„ 5 Ù…Ø³ØªØ®Ø¯Ù… ÙÙ‚Ø·
---------------------
-Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· ØµØ§Ù„Ø­ Ù„Ù…Ø¯Ù‡ 24 Ø³Ø§Ø¹Ù‡ ÙÙ‚Ø·
---------------------
**`)
      message.author.sendEmbed(Embed11)
    }
});




client.on('message', message => {
	const prefix = 'Ø§'
if(!message.channel.guild) return;
if(message.content.startsWith(prefix + 'Ø³Ø­Ø¨')) {
 if (message.member.hasPermission("MOVE_MEMBERS")) {
 if (message.mentions.users.size === 0) {
 return message.channel.send(" <@${usermentioned}> Ù…Ù†Ø´Ù† Ø´Ø®Øµ ")
}
if (message.member.voiceChannel != null) {
 if (message.mentions.members.first().voiceChannel != null) {
 var authorchannel = message.member.voiceChannelID;
 var usermentioned = message.mentions.members.first().id;
var embed = new Discord.RichEmbed()
 .setTitle("Succes!")
 .setColor("#000000")
 .setDescription(`Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨Ø³Ø­Ø¨ <@${usermentioned}> Ø§Ù„Ù‰ Ø§Ù„Ø±ÙˆÙ… Ø§Ù„ØµÙˆØªÙŠ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ:white_check_mark: `)
var embed = new Discord.RichEmbed()
.setTitle(`You are Moved in ${message.guild.name}`)
 .setColor("#000000")
.setDescription(`<@${message.author.id}> moved you to his channel!\nServer => ${message.guild.name}`)
 message.guild.members.get(usermentioned).setVoiceChannel(authorchannel).then(m => message.channel.send(embed))
message.guild.members.get(usermentioned).send(embed)
} else {
message.channel.send("``Ù„Ø§ ØªØ³ØªØ·ÙŠØ¹ Ø³Ø­Ø¨ "+ message.mentions.members.first() +" `ÙŠØ¬Ø¨ Ø§Ù† ÙŠÙƒÙˆÙ† Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ø¶Ùˆ ÙÙŠ Ø±ÙˆÙ… ØµÙˆØªÙŠ`")
}
} else {
 message.channel.send("``ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† ÙÙŠ Ø±ÙˆÙ… ØµÙˆØªÙŠ Ù„ÙƒÙŠ ØªÙ‚ÙˆÙ… Ø¨Ø³Ø­Ø¨ Ø§Ù„Ø¹Ø¶Ùˆ Ø£Ù„ÙŠÙƒ``")
}
} else {
message.react("âŒ")
 }}});





client.on('voiceStateUpdate', (old, now) => {
  const channel = client.channels.get('475994170343817226');
  const currentSize = channel.guild.members.filter(m => m.voiceChannel).size;
  const size = channel.name.match(/\[\s(\d+)\s\]/);
  if (!size) return channel.setName(`#Wind Voice: ${currentSize}`);
  if (currentSize !== size) channel.setName(`#Wind Voice:${currentSize}`);
});




client.on('message', function(message) {
	const myID = "279194403564814336";
    let args = message.content.split(" ").slice(1).join(" ");
    if(message.content.startsWith(prefix + "setname")) {
		        if(message.author.id !== myID) return;
            if(!args) return message.reply('Ø§ÙƒØªØ¨ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù„ÙŠ ØªØ±ÙŠØ¯Ù‡Ø§.');
        client.user.setUsername(args);
        message.channel.send(':white_check_mark: Done!').then(msg => {
           msg.delete(5000);
          message.delete(5000);
        });
    } else if(message.content.startsWith(prefix + "stream")) {
		        if(message.author.id !== myID) return;
            if(!args) return message.reply('Ø§ÙƒØªØ¨ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù„ÙŠ ØªØ±ÙŠØ¯Ù‡Ø§.');
        client.user.setGame(args , 'https://twitch.tv/A_K');
        message.channel.send(':white_check_mark: Done!').then(msg => {
           msg.delete(5000);
          message.delete(5000);
        });
    } else if(message.content.startsWith(prefix + "play")) {
				        if(message.author.id !== myID) return;
            if(!args) return message.reply('Ø§ÙƒØªØ¨ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù„ÙŠ ØªØ±ÙŠØ¯Ù‡Ø§.');
        client.user.setGame(args);
        message.channel.send(':white_check_mark: Done!').then(msg => {
           msg.delete(5000);
          message.delete(5000);
        });
    } else if(message.content.startsWith(prefix + "listen")) {
				        if(message.author.id !== myID) return;
            if(!args) return message.reply('Ø§ÙƒØªØ¨ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù„ÙŠ ØªØ±ÙŠØ¯Ù‡Ø§.');
        client.user.setActivity(args, {type:'LISTENING'});
        message.channel.send(':white_check_mark: Done!').then(msg => {
           msg.delete(5000);
          message.delete(5000);
        });
    } else if(message.content.startsWith(prefix + "watch")) {
				        if(message.author.id !== myID) return;
            if(!args) return message.reply('Ø§ÙƒØªØ¨ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù„ÙŠ ØªØ±ÙŠØ¯Ù‡Ø§.');
        client.user.setActivity(args, {type:'WATCHING'});
        message.channel.send(':white_check_mark: Done!').then(msg => {
           msg.delete(5000);
          message.delete(5000);
        });
    } else if(message.content.startsWith(prefix + "setavatar")) {
				        if(message.author.id !== myID) return;
        client.user.setAvatar(args);
        message.channel.send(':white_check_mark: Done!').then(msg => {
                if(!args) return message.reply('Ø§ÙƒØªØ¨ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù„ÙŠ ØªØ±ÙŠØ¯Ù‡Ø§.');
           msg.delete(5000);
          message.delete(5000);
        });
    }
});


client.on('message', message => {
    if (message.author.id === client.user.id) return;
    if (message.guild) {
   let embed = new Discord.RichEmbed()
    let args = message.content.split(' ').slice(1).join(' ');
if(message.content.split(' ')[0] == prefix + 'bc') {
    if (!args[1]) {
message.channel.send("**.bc <message>**");
return;
}
        message.guild.members.forEach(m => {
   if(!message.member.hasPermission('ADMINISTRATOR')) return;
            var bc = new Discord.RichEmbed()
            .setAuthor(message.author.username, message.author.avatarURL)
            .addField('** Ø§Ù„Ù€Ø³ÙŠØ±ÙØ±**', `${message.guild.name}`,true)
            .addField(' **Ø§Ù„Ù€Ù…Ø±Ø³Ù„ **', `${message.author.username}#${message.author.discriminator}`,true)
            .addField(' **Ø§Ù„Ø±Ø³Ø§Ù„Ø©** ', args)
            .setThumbnail(message.guild.iconURL)
            .setColor('RANDOM')
            m.send(`${m}`,{embed: bc});
        });
        const AziRo = new Discord.RichEmbed()
        .setAuthor(message.author.username, message.author.avatarURL)
        .setTitle('âœ”ï¸ | Ø¬Ø§Ø±ÙŠ Ø§Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ ')
        .addBlankField(true)
        .addField('ðŸ‘¥ | Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø±Ø³Ù„ Ù„Ù‡Ù… ', message.guild.memberCount , true)
        .addField('ðŸ“‹| Ø§Ù„Ø±Ø³Ø§Ù„Ø© ', args)
        .setColor('RANDOM')
        message.channel.sendEmbed(AziRo);
    }
    } else {
        return;
    }
});




client.on('message', message => {
  if (message.author.x5bz) return;
  if (!message.content.startsWith(prefix)) return;


  let command = message.content.split(" ")[0];
  command = command.slice(prefix.length);

  let args = message.content.split(" ").slice(1);



  if (command == "ban") {
  let rank = message.guild.member(message.author).roles.find('name', 'ban');
  if (!rank) return message.reply('Ø§Ù†Øª Ù„Ø§ ØªÙ…ØªÙ„Ùƒ Ø§Ù„Ø±ØªØ¨Ù‡ Ø§Ù„Ù…Ø®ØµØµÙ‡ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø§Ù…Ø±')
    message.channel.send(args.join("  "))
      message.delete();



               if(!message.channel.guild) return message.reply('** This command only for servers**');


  let user = message.mentions.users.first();
  let reason = message.content.split(" ").slice(2).join(" ");
  /*let b5bzlog = client.channels.find("name", "5bz-log");
  if(!b5bzlog) return message.reply("I've detected that this server doesn't have a 5bz-log text channel.");*/
  if (message.mentions.users.size < 1) return message.reply("**Ù…Ù†Ø´Ù† Ø´Ø®Øµ**");
  if(!reason) return message.reply ("**Ø§ÙƒØªØ¨ Ø³Ø¨Ø¨ Ø§Ù„Ø·Ø±Ø¯**");
  if (!message.guild.member(user)
  .bannable) return message.reply("**Ù„Ø§ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø·Ø±Ø¯ Ø´Ø®Øµ Ø§Ø¹Ù„Ù‰ Ù…Ù† Ø±ØªØ¨ØªÙŠ ÙŠØ±Ø¬Ù‡ Ø§Ø¹Ø·Ø§Ø¡ Ø§Ù„Ø¨ÙˆØª Ø±ØªØ¨Ù‡ Ø¹Ø§Ù„ÙŠØ©**");

  message.guild.member(user).ban(7, user);

  const banembed = new Discord.RichEmbed()
  .setAuthor(`BANNED!`, user.displayAvatarURL)
  .setColor("RANDOM")
  .setTimestamp()
  .addField("**User:**",  '**[ ' + `${user.tag}` + ' ]**')
  .addField("**By:**", '**[ ' + `${message.author.tag}` + ' ]**')
  .addField("**Reason:**", '**[ ' + `${reason}` + ' ]**')
  message.channel.send({
    embed : banembed
  })
}
});






client.on('guildMemberAdd', member=> {
    member.addRole(member.guild.roles.find("name","Wind."));
  

});







client.on("roleCreate", rc => {
  const channel = rc.guild.channels.find("name", "log") //ØªÙ‚Ø¯Ø± ØªØºÙŠØ± Ø§Ø³Ù… Ø§Ù„Ø´Ø§Øª
  if(channel) {
  var embed = new Discord.RichEmbed()
  .setTitle(rc.guild.name)
  .setDescription(`***Created Role Name : *** **${rc.name}** `)
  .setColor(`RANDOM`)
  .setTimestamp(); 
  channel.sendEmbed(embed)
  }
  });
  
  client.on("roleDelete",  rd => {
  const channel = rd.guild.channels.find("name", "log")
  if(channel) {
  var embed = new Discord.RichEmbed()
  .setTitle(rd.guild.name)
  .setDescription(`***Deleted Role Name : *** **${rd.name}** `)
  .setColor(`RANDOM`)
  .setTimestamp(); 
  channel.sendEmbed(embed)
  }
  });

client.on("channelCreate",  cc => {
  const channel = cc.guild.channels.find("name", "log")
  if(channel) {
  var embed = new Discord.RichEmbed()
  .setTitle(cc.guild.name)
  .setDescription(`***Channel Created Name : *** **${cc.name}** â¬…ï¸`)
  .setColor(`RANDOM`)
  .setTimestamp(); 
  channel.sendEmbed(embed)
  }
  });

   client.on("deleteChannel",  dc => {
  const channel = dc.guild.channels.find("name", "log")
  if(channel) {
  var embed = new Discord.RichEmbed()
  .setTitle(dc.guild.name)
  .setDescription(`***Channel Deleted Name : *** **${dc.name}** â¬…ï¸`)
  .setColor(`RANDOM`)
  .setTimestamp(); 
  channel.sendEmbed(embed)
  }
  });






client.on('message', message => {
 if (message.content.includes('ÙƒØ³ Ø§Ù…Ùƒ')){
                     if(!message.channel.guild) return message.reply ('')
                 if (!message.member.hasPermissions(['ADMINISTRATOR'])){
    message.delete() 
     var member = message.member
    
 
       
          member.kick().then((member) => {
              message.channel.send("", {embed: {
              author: {
              },
              title: 'Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ø³Ø¨ ' + member.displayName + ' ØªÙ… Ø·Ø±Ø¯',
              color: 490101,
                               msg.delete(10000);
			 message.delete(10000);
	      }
            });
        }
      ) 
    }
}
});





client.on('message', message => {
 if (message.content.includes('Ø§Ø®ØªÙƒ')){
                     if(!message.channel.guild) return message.reply ('')
                 if (!message.member.hasPermissions(['ADMINISTRATOR'])){
    message.delete() 
     var member = message.member
    
 
       
          member.kick().then((member) => {
              message.channel.send("", {embed: {
              author: {
              },
              title: 'Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ø³Ø¨ ' + member.displayName + ' ØªÙ… Ø·Ø±Ø¯',
              color: 490101,
                               msg.delete(10000);
			 message.delete(10000);
	      }
            });
        }
      ) 
    }
}
});






client.on('message', message => {
 if (message.content.includes('ÙƒØ³')){
                     if(!message.channel.guild) return message.reply ('')
                 if (!message.member.hasPermissions(['ADMINISTRATOR'])){
    message.delete() 
     var member = message.member
    
 
       
          member.kick().then((member) => {
              message.channel.send("", {embed: {
              author: {
              },
              title: ':x: :no_entry_sign:   ' + member.displayName + '  ØªÙ… Ø·Ø±Ø¯ Ø§Ù„Ø¹Ø¶Ùˆ  Ù‡Ø°Ø§  Ø¨ Ø³Ø¨Ø¨  Ø§Ù„Ø³Ø¨',
              color: 490101,
                 msg.delete(10000);
			 message.delete(10000);
	      }
            });
        }
      ) 
    }
}
});





client.login(process.env.BOT_TOKEN);
